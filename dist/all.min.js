module.exports=function(e){e.controller("totalActiveAgents",["$scope","$window","$http",function(e,i,l,t){l.get(t+"agent",{headers:{"x-access-token":localStorage.getItem("semper-admin-token")}}).then(function(i){e.today=i.data.data.length})}])},module.exports=function(e){e.controller("username",["$scope","$window",function(e,i){e.username="test"}])};var _=require("lodash");module.exports=function(e,i){e.directive("dashboard",function(){return{templateUrl:"dashboard.html"}})},module.exports=function(e){e.directive("header",function(){return{templateUrl:"header.html",controller:function(e,i){i.all("user").customGET("current").then(function(i){e.user=i.data}),e.logout=function(){confirm("Do you want to logout?")&&(localStorage.removeItem("semper-admin-token"),window.location="./index.html")}}}})},module.exports=function(e){e.directive("loginAsUser",function(e,i,l,t){"use strict";return{restrict:"E",scope:{selection:"=",type:"@"},link:function(e,i,l){e.login=function(){window.alert("Feature Coming Soon")}},template:'<button class="btn btn-success btn-xs" ng-click="login()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp; Login as</button>'}})},module.exports=function(e){e.directive("previewJob",function(e,i,l,t){"use strict";return{restrict:"E",scope:{selection:"=",type:"@"},link:function(e,i,l){e.showJob=function(){window.alert("Feature Coming Soon")}},template:'<button class="btn btn-success btn-xs" ng-click="showJob()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp; Live Preview</button>'}})},module.exports=function(e){e.directive("sendEmail",["$location",function(e){return{restrict:"E",scope:{post:"&"},link:function(i,l){console.log(i),i.send=function(){e.path("/sendPost/"+i.post().values.id)}},template:'<a class="btn btn-default btn-xs" ng-click="send()"> <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Send Test</a>'}}])},module.exports=function(e,i){var l=e.entity("agent").identifier(e.field("_id"));return l.listView().title("Staff & Job Agents").fields([e.field("name"),e.field("city"),e.field("state"),e.field("fmId").label("FM Id"),e.field("type"),e.field("description"),e.field("status").label("Status")]).listActions(["edit","delete",'<login-as-user item="{{entry}}"></login-as-user>']).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("type").label("Type"),e.field("username","string").label("Username"),e.field("email","string").label("email"),e.field("city","string").label("City"),e.field("state","string").label("State")]),l.creationView().title("Create new Agent").fields([e.field("name").validation({required:!0}).cssClasses("col-sm-8"),e.field("type","choice").choices([{value:"job",label:"Job"},{value:"staff",label:"Staff"}]).validation({required:!0}).cssClasses("col-sm-4"),e.field("User","reference").targetEntity(i).targetField(e.field("firstname")),e.field("city").validation({required:!1}).cssClasses("col-sm-4"),e.field("country").validation({required:!1}).cssClasses("col-sm-4"),e.field("ExpirationDate").validation({required:!1}).cssClasses("col-sm-4"),e.field("salary").validation({required:!1}).cssClasses("col-sm-4"),e.field("skill").validation({required:!1}).cssClasses("col-sm-4"),e.field("worktype").validation({required:!1}).cssClasses("col-sm-4"),e.field("state").validation({required:!1}).cssClasses("col-sm-4"),e.field("shift").validation({required:!1}).cssClasses("col-sm-4")]),l.editionView().fields(l.creationView().fields()),l},module.exports=function(e,i,l){var t=e.entity("application").identifier(e.field("_id"));return t.listView().title("Job Applications").fields([e.field("title"),e.field("User.username").label("Owner"),e.field("fmJobId").label("FM Job Id"),e.field("fmClientId").label("FM Client Id"),e.field("status").label("Status")]).listActions(["edit","delete"]).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("type").label("Type"),e.field("username","string").label("Username"),e.field("email","string").label("email"),e.field("city","string").label("City"),e.field("state","string").label("State")]),t.creationView().title("Create new Job Application").fields([e.field("title").validation({required:!0}).cssClasses("col-sm-4"),e.field("User","reference").targetEntity(i).targetField(e.field("firstname")),e.field("Order","reference").targetEntity(l).targetField(e.field("name")),e.field("description").validation({required:!1}).cssClasses("col-sm-8")]),t.editionView().fields(t.creationView().fields()),t},module.exports=function(e){var i=e.entity("homeoffice").identifier(e.field("_id"));return i.label("Home Offices"),i.listView().title("Home Offices").fields([e.field("name"),e.field("fmOfficeId"),e.field("phone"),e.field("city"),e.field("state")]).listActions(["edit","delete"]).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("type").label("Type"),e.field("username","string").label("Username"),e.field("email","string").label("email"),e.field("city","string").label("City"),e.field("state","string").label("State")]),i.creationView().title("Create new Home Office").fields([e.field("name").validation({required:!0}).cssClasses("col-sm-8"),e.field("city").validation({required:!0}).cssClasses("col-sm-4"),e.field("state").validation({required:!0}).cssClasses("col-sm-4"),e.field("zip").validation({required:!0}).cssClasses("col-sm-4"),e.field("emailAddress1").validation({required:!1}).cssClasses("col-sm-4"),e.field("emailAddress2").validation({required:!1}).cssClasses("col-sm-4"),e.field("phone").validation({required:!1}).cssClasses("col-sm-4")]),i.editionView().fields(i.creationView().fields()),i},module.exports=function(e){var i=e.entity("job").identifier(e.field("_id"));return i.label("Jobs"),i.listView().title("Jobs").perPage(50).fields([e.field("name"),e.field("city"),e.field("state"),e.field("status").label("Job Status"),e.field("fmJobId").label("FM Id"),e.field("User.company").label("Company")]).listActions(["edit","show","delete",'<preview-job item="{{entry}}"></preview-job>','<fm-sync-job job="{{entry}}"></fm-sync-job>']).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("type").label("Type"),e.field("username","string").label("Username"),e.field("email","string").label("email"),e.field("city","string").label("City"),e.field("state","string").label("State")]),i.editionView().title("Create new Job").fields([e.field("name").validation({required:!0}).cssClasses("col-sm-8"),e.field("city").validation({required:!0}).cssClasses("col-sm-4"),e.field("state").validation({required:!0}).cssClasses("col-sm-4"),e.field("description","wysiwyg").validation({required:!0}),e.field("calc_region").validation({required:!0}).cssClasses("col-sm-4"),e.field("calc_size_descripts").validation({required:!0}).cssClasses("col-sm-4"),e.field("calc_web_description").validation({required:!0}).cssClasses("col-sm-4"),e.field("calc_work_type").validation({required:!0}).cssClasses("col-sm-4"),e.field("date_web").validation({required:!0}).cssClasses("col-sm-4"),e.field("dept_code").validation({required:!0}).cssClasses("col-sm-4"),e.field("dept_code_name").validation({required:!0}).cssClasses("col-sm-4"),e.field("dept_code_name_duplicate").validation({required:!0}).cssClasses("col-sm-4"),e.field("duration").validation({required:!0}).cssClasses("col-sm-4"),e.field("flag_full_time").validation({required:!0}).cssClasses("col-sm-4"),e.field("fmClientId").validation({required:!0}).cssClasses("col-sm-4"),e.field("id_employee_recruiter").validation({required:!0}).cssClasses("col-sm-4"),e.field("fmJobId").validation({required:!0}).cssClasses("col-sm-4"),e.field("fnOfficeId").validation({required:!0}).cssClasses("col-sm-4"),e.field("rate_range").validation({required:!0}).cssClasses("col-sm-4"),e.field("region").validation({required:!0}).cssClasses("col-sm-4"),e.field("salary_range").validation({required:!0}).cssClasses("col-sm-4"),e.field("shifts").validation({required:!0}).cssClasses("col-sm-4"),e.field("shifts_WorkType").validation({required:!0}).cssClasses("col-sm-4"),e.field("skills").validation({required:!0}).cssClasses("col-sm-4"),e.field("staff_recruiter").validation({required:!0}).cssClasses("col-sm-4"),e.field("state").validation({required:!0}).cssClasses("col-sm-4"),e.field("web_description").validation({required:!0}).cssClasses("col-sm-4"),e.field("web_office").validation({required:!0}).cssClasses("col-sm-4"),e.field("web_other_city").validation({required:!0}).cssClasses("col-sm-4")]),i.showView().fields(i.editionView().fields()),i},module.exports=function(e){var i=e.entity("lookup").identifier(e.field("_id"));return i.listView().title("Lookup Options").fields([e.field("value"),e.field("label"),e.field("type")]).listActions(["edit","delete"]).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("type","choice").label("Type").choices([{value:"industry",label:"Industry"},{value:"region",label:"Region"},{value:"source",label:"Source"},{value:"salary",label:"Salary"},{value:"shift",label:"Shift"},{value:"type",label:"Type"}])]),i.creationView().title("Create new User").fields([e.field("type","choice").choices([{value:"industry",label:"Industry"},{value:"region",label:"Region"},{value:"source",label:"Source"},{value:"salary",label:"Salary"},{value:"shift",label:"Shift"},{value:"type",label:"Type"}]).validation({required:!0}).cssClasses("col-sm-4"),e.field("value").validation({required:!0}).cssClasses("col-sm-4"),e.field("label").validation({required:!0}).cssClasses("col-sm-4")]),i.editionView().fields(i.creationView().fields()),i},module.exports=function(e,i){var l=e.entity("order").identifier(e.field("_id"));return l.listView().title("Orders").fields([e.field("name"),e.field("fmClientId").label("FM Client Id"),e.field("fmJobId").label("FM Job Id"),e.field("type"),e.field("homeOffice").label("Home Office"),e.field("User.company"),e.field("createdAt","date").format("MM-dd-yyyy").label("Date Submitted"),e.field("status").label("Status")]).listActions(["edit","delete"]).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>')]),l.creationView().title("Create new Order").fields([e.field("name").validation({required:!0}).cssClasses("col-sm-4"),e.field("type").validation({required:!0}).cssClasses("col-sm-4"),e.field("User","reference").targetEntity(i).targetField(e.field("firstname"))]),l.editionView().fields(l.creationView().fields()),l},module.exports=function(e,i){var l=e.entity("resume").identifier(e.field("_id"));return l.listView().title("Resumes").fields([e.field("User.username").label("Owner"),e.field("createdAt").label("Created"),e.field("publish").label("Published")]).listActions(["edit","delete"]),l.creationView().title("Create new Resume").fields([e.field("User","reference").targetEntity(i).targetField(e.field("firstname")),e.field("career_obj","wysiwyg").validation({required:!1}),e.field("special_skills","wysiwyg").validation({required:!1}),e.field("textResume","wysiwyg").validation({required:!1})]),l.editionView().fields(l.creationView().fields()),l},module.exports=function(e,i){var l=e.entity("skill").identifier(e.field("_id"));return l.listView().title("Job Skills").fields([e.field("department"),e.field("primary").label("Primary Skill"),e.field("secondary").label("Secondary Skill")]).listActions([]).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>')]),l.creationView().title("Create new Skill").description("This provides a way to create a new job skill.").fields([e.field("department").validation({required:!0}).attributes({placeholder:"Enter Department"}).cssClasses("col-sm-4"),e.field("primary").validation({required:!0}).attributes({placeholder:"Enter Primary Skill"}).cssClasses("col-sm-4"),e.field("secondary").validation({required:!0}).attributes({placeholder:"Enter Secondary Skill"}).cssClasses("col-sm-4")]),l.editionView().description("This provides a way to edit a job skill.").fields(l.creationView().fields()),l},module.exports=function(e,i){var l=e.entity("template").identifier(e.field("_id"));return l.label("Templates"),l.listView().title("Templates").fields([e.field("name").label("Template Name"),e.field("type").label("Type"),e.field("createdAt","date").format("MM/dd/yy").label("Created"),e.field("updatedAt","date").format("MM/dd/yy").label("Updated"),e.field("custom_action").label("").template('<send-email post="entry"></send-email>')]).listActions(["edit","delete"]).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("name").label("Type")]),l.creationView().title("Create new Email Template").description("Use this to create a new email template.").fields([e.field("name").attributes({placeholder:"Enter a name for this template"}).validation({required:!0}).cssClasses("col-sm-8"),e.field("html","wysiwyg").attributes({placeholder:"Enter an HTML template"}).validation({required:!0}),e.field("type").validation({required:!0}).attributes({placeholder:"Enter a type"}).cssClasses("col-sm-4")]),l.editionView().description("Use this to edit an existing email template.").fields(l.creationView().fields()),l},module.exports=function(e,i){var l=e.entity("user").identifier(e.field("_id"));return l.listView().title("Users").fields([e.field("firstname").label("Name"),e.field("username"),e.field("email"),e.field("fmId").label("FMId"),e.field("type"),e.field("phone"),e.field("lastLoginAt","date").format("MM/dd/yyyy")]).listActions(["edit",'<user-manage user="entry"></user-manage>','<login-as-user item="entry"></login-as-user>','<fm-sync-job job="{{entry}}"></fm-sync-job>']).filters([e.field("q","template").label("").pinned(!0).template('<div class="input-group"><input type="text" ng-model="value" placeholder="Search" class="form-control"></input><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div>'),e.field("type").label("Type"),e.field("username","string").label("Username"),e.field("email","string").label("email"),e.field("city","string").label("City"),e.field("state","string").label("State")]),l.creationView().title("Create new User Account").description("Use this to create a new account. While you can create a job seeker or employer, their required fields can cause validation issues.").fields([e.field("type","choice").defaultValue("job seeker").attributes({placeholder:"Select the user account type."}).choices([{value:"employer",label:"Employer"},{value:"job seeker",label:"Job Seeker"},{value:"administrator",label:"Site Administrator"}]).validation({required:!0}).cssClasses("col-sm-4"),e.field("firstname").validation({required:!0}).attributes({placeholder:"Enter first name"}).cssClasses("col-sm-4"),e.field("lastname").validation({required:!0}).attributes({placeholder:"Select last name"}).cssClasses("col-sm-4"),e.field("phone").validation({required:!0}).attributes({placeholder:"Enter Phone Number"}).cssClasses("col-sm-4"),e.field("company").validation({required:!0}).attributes({placeholder:"Enter Company Name"}).cssClasses("col-sm-4"),e.field("username").validation({required:!0}).attributes({placeholder:"Select username",autocomplete:"false"}).cssClasses("col-sm-4"),e.field("password","password").validation({required:!0}).attributes({placeholder:"Select a password"}).cssClasses("col-sm-4"),e.field("address_line1").validation({required:!0}).attributes({placeholder:"Select Street Address"}).cssClasses("col-sm-4"),e.field("email").validation({required:!0}).attributes({placeholder:"Select Email Address"}).cssClasses("col-sm-4"),e.field("city").validation({required:!1}).attributes({placeholder:"Enter Address City"}).cssClasses("col-sm-4"),e.field("state","choice").validation({required:!1}).attributes({placeholder:"Select a State"}).choices(i.states).cssClasses("col-sm-4"),e.field("zip").validation({required:!1}).attributes({placeholder:"Select a zip code"}).cssClasses("col-sm-4"),e.field("shortProfile","wysiwyg").validation({required:!1}).attributes({placeholder:"Select the user account type."})]),l.editionView().fields(l.creationView().fields()),l},module.exports=function(e){e.config(function(e){e.state("filemaker",{parent:"main",url:"/filemaker",controller:function(e,i){},controllerAs:"controller",templateUrl:"/templates/filemaker.html"})})},module.exports=function(e){e.directive("fmSyncJob",["$location",function(e){return{restrict:"E",scope:{user:"&"},link:function(e){},template:'<button class="btn btn-primary btn-xs" ng-click="open()"><i class="fa fa-download"></i>&nbsp;FM Sync</button>'}}])},module.exports=function(e){e.config(function(e){e.state("user-detail",{parent:"main",url:"/user/details/:id",params:{id:null},resolve:{user:function(e,i,l){var t=i.defer();return l.all("user").get(e.id).then(function(e){e.data?t.resolve(e.data):t.resolve(e)},function(e){t.reject(e)}),t.promise}},controller:function(e,i){i.tab="details",i.user=e},controllerAs:"controller",templateUrl:"/templates/user-tabs.html"}),e.state("user-detail-tabs",{parent:"main",url:"/user/details/:id/:tab",params:{id:null,tab:null},resolve:{user:function(e,i,l){var t=i.defer();return l.all("user").get(e.id).then(function(e){e.data?t.resolve(e.data):t.resolve(e)},function(e){t.reject(e)}),t.promise}},controller:function(e,i,l){i.tab=l.tab,i.user=e},controllerAs:"controller",templateUrl:"/templates/user-tabs.html"})}),e.directive("fmSyncUser",["$location",function(e){return{restrict:"E",scope:{user:"&"},link:function(e){},template:'<button class="btn btn-primary btn-xs" ng-click="open()"><i class="fa fa-download"></i>&nbsp;Sync</button>'}}]),e.directive("userManage",["$location",function(e){return{restrict:"E",scope:{user:"&"},link:function(i){var l=i.user().values._id;i.open=function(){e.path("/user/details/"+l)}},template:'<button class="btn btn-success btn-xs" ng-click="open()">Manage</button>'}}]),e.directive("userDetails",function(e){"use strict";return{restrict:"E",scope:{user:"="},controller:function(e){e.user=e.user},templateUrl:"templates/user-details.html"}}),e.directive("userFilemakerDetails",function(e){"use strict";return{restrict:"E",scope:{user:"="},controller:function(e,i){},templateUrl:"templates/user-filemaker-details.html"}}),e.directive("userAgentsTable",function(e){"use strict";return{restrict:"E",scope:{user:"="},controller:function(e,i){i.all("agent").getList({User:e.user._id}).then(function(i){i.data?e.events=i.data:e.events=i})},templateUrl:"templates/user-agents-table.html"}})},exports.states=require("./states.json");